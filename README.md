# Теория методов сравнения изображений

В этом разделе мы рассмотрим теорию и принципы, лежащие в основе методов сравнения изображений, упомянутых ранее.

## 1. Сравнение гистограмм

### **Гистограмма изображения**
Гистограмма изображения — это график, представляющий распределение значений яркости (или цвета) в изображении. Она показывает, сколько пикселей соответствует каждому уровню яркости.

### **Сравнение гистограмм**
Сравнение гистограмм позволяет оценить схожесть двух изображений на основе их цветового распределения. Одним из популярных подходов является использование **RMS** (Root Mean Square), который измеряет среднее отклонение значений между двумя гистограммами.

**Формула для вычисления RMS:**
\[
RMS = \sqrt{\frac{1}{n} \sum_{i=1}^{n} (h1[i] - h2[i])^2}
\]

где \(h1[i]\) и \(h2[i]\) — значения гистограмм, а \(n\) — общее количество цветовых компонентов.

---

## 2. Метрики расстояния

### **Расстояние Груздичева** (Euclidean Distance)
Это наиболее распространенная метрика для измерения различий между двумя точками в пространстве. В контексте изображений она применяется к значениям пикселей.

**Формула для вычисления расстояния:**
\[
D = \sqrt{\sum_{i=1}^{n} (x_i - y_i)^2}
\]
где \(x_i\) и \(y_i\) — значения пикселей двух изображений.

---

## 3. Сравнение по ключевым точкам

### **Ключевые точки и дескрипторы**
Ключевые точки — это заметные и уникальные точки на изображении, которые могут быть обнаружены с помощью различных алгоритмов (например, SIFT, ORB).

### **Сравнение ключевых точек**
Сравнение ключевых точек позволяет определить, насколько изображения схожи по содержанию, даже если они являются разными по масштабу или углу обзора. Используются методы сопоставления дескрипторов для нахождения соответствий между ключевыми точками.

---

## 4. Метод SSIM (Structural Similarity Index)

### **SSIM**
**Structural Similarity Index (SSIM)** — это метод, который оценивает качество изображения на основе восприятия человеческого глаза. Он учитывает такие факторы, как яркость, контраст и структура.

### **Формула SSIM**
SSIM вычисляется по трем компонентам: яркость, контраст и структура.
\[
SSIM(x, y) = \frac{(2\mu_x\mu_y + C_1)(2\sigma_{xy} + C_2)}{(\mu_x^2 + \mu_y^2 + C_1)(\sigma_x^2 + \sigma_y^2 + C_2)}
\]
где:
- \(\mu_x\) и \(\mu_y\) — средние значения изображений,
- \(\sigma_x^2\) и \(\sigma_y^2\) — дисперсии,
- \(\sigma_{xy}\) — ковариация.

---

## 5. Пиксельное сравнение

### **Прямое сравнение**
Пиксельное сравнение заключается в сопоставлении значений пикселей двух изображений. Это позволяет точно измерять, сколько пикселей отличаются друг от друга.

### **Результаты сравнения**
Результаты прямого сравнения обеспечивают информацию о количестве различий между изображениями, что может быть полезно при выявлении изменений или проверке качества.

---

## Заключение
Каждый из этих методов отображает слой информации об изображениях и может быть использован в зависимости от специфических потребностей. Подбор метода зависит от контекста задачи, требований к точности и типу сравниваемых изображений.

![](https://raw.githubusercontent.com/tonypithony/compare_2images/refs/heads/main/vermeer.jpg)
